# @(#) somc/gen_make.efs 2.5 6/10/96 16:32:39 [12/22/96 21:11:25]

#
# COMPONENT_NAME: some
#
# ORIGINS: 27
#
#
# 10H9767, 10H9769  (C) COPYRIGHT International Business Machines Corp. 1992,1994
# All Rights Reserved
# Licensed Materials - Property of IBM
# US Government Users Restricted Rights - Use, duplication or
# disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
#

# Makefile for: emitdelphi    [Sun Jan 11 00:51:12 2015]
# Author: SOMObjects Emitter Framework

# We set SOMBASE to /usr/lpp/som by default, if your installation is
# different and som has been installed elsewhere, then change the SOMBASE
# variable.
# SOMBASE     = /usr/lpp/som
# To ensure that all other Makefiles generated by the newemit program have
# this information then alter the template file in 
# $(SOMBASE)/include/gen_make.efw to reflect this difference.
DLLDEST     = $(SOMBASE)/lib
EFWDEST     = $(SOMBASE)/include
INCLUDEPATH = -I$(SOMBASE)/include
LIBDIRPATH  = -L$(SOMBASE)/lib

SRCS        = emitdelphi.c delphi.c delphi.efw delphi.idl
OBJS        = emitdelphi.o delphi.o
TARGET      = emitdelphi.dll
CLEANFILES  = delphi.h

SCFLAGS     = -D__PRIVATE__ -sh:ih -m addstar
CC          = cc
CFLAGS      = 
LINKER      = ld
LDFLAGS     = -bM:SRE -T512 -H512
LIBLIST     = -lsomtk


.SUFFIXES: .c .ih .idl .o

.c.o:
	$(CC) -I. $(INCLUDEPATH) $(CFLAGS) -c $<

.idl.ih:
	sc $(SCFLAGS) $<

$(TARGET): $(OBJS)
	$(LINKER) -o $@ -e emitSL $(OBJS) $(LDFLAGS)\
	    -lc $(LIBDIRPATH) $(LIBLIST)

clean:
	rm -f *.o core *.ih $(TARGET) $(CLEANFILES)

emitdelphi.o: emitdelphi.c delphi.ih

delphi.o: delphi.c delphi.ih

delphi.ih: delphi.idl

